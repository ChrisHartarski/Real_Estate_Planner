<!DOCTYPE html>
<html lang="bg"
       xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial scale=1.0">
    <title>Property Page</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="/images/favicon.png" />
    <!-- Core theme CSS -->
    <link href="/css/styles.css" rel="stylesheet" />
</head>
<body>
    <header th:replace="~{fragments/navbar.html}"></header>
    <main>
        <div class="wrapper center w-70">
            <div class="card gap-1 flex-column" th:object="${property}">
                <div class="page-heading flex-column text-center">
                    <div class="header">
                        <h2 th:if="${property.propertyType.name() == 'APARTMENT'}"
                            th:text="#{'apartmentType.' + ${property.apartmentType.name()}}">тип
                            апартамент</h2>
                        <h2 th:if="${property.propertyType.name() == 'HOUSE'}"
                            th:text="#{'houseType.' + ${property.houseType.name()}}">тип
                            къща</h2>
                        <h2 th:if="${property.propertyType.name() == 'BUSINESS'}"
                            th:text="#{'businessPropertyType.' + ${property.businessPropertyType.name()}}">тип
                            бизнес имот</h2>
                        <h2 th:if="${property.propertyType.name() == 'GARAGE'}"
                            th:text="#{'garageType.' + ${property.garageType.name()}}">тип
                            гараж</h2>
                        <h2 th:if="${property.propertyType.name() == 'LAND'}"
                            th:text="#{'landType.' + ${property.landType.name()}}">тип
                            парцел</h2>
                    </div>
                    <h3 th:text="${property.address}">Русе, Възраждане, ул. Солун 26</h3>
                </div>
                <div class="images-section flex-row">
                    <div class="flex-row">
                        <div class="main-image">
                            <img src="/images/sample_image.jpg" alt="sample_img">
                        </div>
                        <div class="secondary-images">
                            <div th:each="picture : ${property.pictures}">
                                <img th:src="${picture.getPictureLink()}" alt="property image">
                            </div>
                        </div>
                    </div>
                    <div class="flex-row">
                        <form th:action="@{/properties/{id}/upload-picture(id=${property.id})}"
                              th:method="POST"
                              enctype="multipart/form-data">
                            <input type="file" name="image" required />
                            <button type="submit">Upload</button>
                        </form>
                    </div>

                </div>
                <div class="info-section flex-column gap-1">
                    <div class="main-info flex-column gap-0-5">
                        <h3 th:text="#{property.main-info-header}">Основна информация</h3>
                        <!-- Property offer type-->
                        <div class="flex-row">
                            <div class="w-30 white-space-nowrap" th:text="#{property.offer-type} + ':'">Тип оферта:</div>
                            <div class="w-70"
                                 th:text="#{'offerType.' + ${property.offerType.name()}}">наем</div>
                        </div>

                        <!-- Property address-->
                        <div class="flex-row">
                            <div class="w-30 white-space-nowrap" th:text="#{property.address} + ':'">Адрес:</div>
                            <div class="w-70" th:text="${property.address}">Русе,&nbsp;Възраждане,&nbsp;Солун&nbsp;26</div>
                        </div>

                        <!-- Property price-->
                        <div class="flex-row">
                            <div class="w-30 white-space-nowrap" th:text="#{property.price} + ':'">Цена:</div>
                            <div class="w-70 flex-row gap-1">
                                <div th:text="'€ ' + ${#numbers.formatDecimal(property.price, 1, 'POINT', 0, 'COMMA')}">€ 70
                                    .000</div>
                                <div class="grayed-out"
                                     th:text="'(€ ' + ${#numbers.formatDecimal(property.price / property.area, 1, 'POINT', 0, 'COMMA')} + ' / ' + #{'areaUnit.' + ${property.areaUnit}} + ')'">
                                </div>
                            </div>

                        </div>

                        <!-- Property area-->
                        <div class="flex-row">
                            <div class="w-30 white-space-nowrap" th:text="#{property.area} + ':'">Площ:</div>
                            <div class="w-70"
                                 th:text="${property.area} + ' ' + #{'areaUnit.' + ${property.areaUnit}}">200 кв.м.</div>
                        </div>

                        <!-- Contact name-->
                        <div class="flex-row">
                            <div class="w-30 white-space-nowrap" th:text="#{property.contact-name} + ':'">Име на контакт:</div>
                            <div class="w-70"
                                 th:text="${property.contactName}">Георги Георгиев</div>
                        </div>

                        <!-- Contact phone-->
                        <div class="flex-row">
                            <div class="w-30 white-space-nowrap" th:text="#{property.contact-phone} + ':'">Телефон на контакт:</div>
                            <div class="w-70"
                                 th:text="${property.contactPhone}">+359 XXX XXX XXX</div>
                        </div>

                        <!-- Contact email-->
                        <div class="flex-row">
                            <div class="w-30 white-space-nowrap" th:text="#{property.contact-email} + ':'">Имейл на контакт:</div>
                            <div class="w-70"
                                 th:text="${property.contactEmail}">name@mail.com</div>
                        </div>

                        <!-- Property description-->
                        <div class="flex-row">
                            <div class="w-30 white-space-nowrap" th:text="#{property.description} + ':'">Описание:</div>
                            <div class="w-70 text-justified"
                                 th:text="${property.description}">Описание</div>
                        </div>
                    </div>

                    <div class="additional-info flex-column gap-0-5">
                        <h3 th:text="#{property.additional-info-header}">Допълнителна информация</h3>

                        <!-- Apartment type-->
                        <div class="flex-row" th:if="${property.propertyType.name().equals('APARTMENT')}">
                            <div class="w-30 white-space-nowrap" th:text="#{property.apartment-type} + ':'">Тип
                                апартамент:</div>
                            <div class="w-70"
                                 th:text="#{'apartmentType.' + ${property.apartmentType.name()}}">2-стаен
                                апартамент</div>
                        </div>

                        <!-- House type-->
                        <div class="flex-row" th:if="${property.propertyType.name().equals('HOUSE')}">
                            <div class="w-30 white-space-nowrap" th:text="#{property.house-type} + ':'">Тип
                                къща:</div>
                            <div class="w-70"
                                 th:text="#{'houseType.' + ${property.houseType.name()}}">къща</div>
                        </div>

                        <!-- Business property type-->
                        <div class="flex-row" th:if="${property.propertyType.name().equals('BUSINESS')}">
                            <div class="w-30 white-space-nowrap" th:text="#{property.business-property-type} + ':'">Тип
                                бизнес имот:</div>
                            <div class="w-70"
                                 th:text="#{'businessPropertyType.' + ${property.businessPropertyType.name()}}">офис
                            </div>
                        </div>

                        <!-- Garage type-->
                        <div class="flex-row" th:if="${property.propertyType.name().equals('GARAGE')}">
                            <div class="w-30 white-space-nowrap" th:text="#{property.garage-type} + ':'">Тип
                                гараж:</div>
                            <div class="w-70"
                                 th:text="#{'garageType.' + ${property.garageType.name()}}">гараж
                            </div>
                        </div>

                        <!-- Land type-->
                        <div class="flex-row" th:if="${property.propertyType.name().equals('LAND')}">
                            <div class="w-30 white-space-nowrap" th:text="#{property.land-type} + ':'">Тип
                                гараж:</div>
                            <div class="w-70"
                                 th:text="#{'landType.' + ${property.landType.name()}}">парцел
                            </div>
                        </div>

                        <!-- Construction type-->
                        <div class="flex-row" th:if="${property.propertyType.name().equals('APARTMENT')
                                                        or property.propertyType.name().equals('HOUSE')
                                                        or property.propertyType.name().equals('BUSINESS')}">
                            <div class="w-30 white-space-nowrap" th:text="#{property.construction-type} + ':'">Тип
                                строителство:</div>
                            <div class="w-70"
                                 th:text="#{'constructionType.' + ${property.constructionType.name()}}">тухла
                            </div>
                        </div>

                        <!-- Year -->
                        <div class="flex-row" th:if="${property.propertyType.name().equals('APARTMENT')
                                                        or property.propertyType.name().equals('HOUSE')}">
                            <div class="w-30 white-space-nowrap" th:text="#{property.year} + ':'">Година:</div>
                            <div class="w-70"
                                 th:text="${property.year}">2025
                            </div>
                        </div>

                        <!-- Room count -->
                        <div class="flex-row" th:if="${property.propertyType.name().equals('APARTMENT')
                                                        or property.propertyType.name().equals('HOUSE')}">
                            <div class="w-30 white-space-nowrap" th:text="#{property.room-count} + ':'">Брой стаи:</div>
                            <div class="w-70"
                                 th:text="${property.roomCount}">2
                            </div>
                        </div>

                        <!-- Floor -->
                        <div class="flex-row" th:if="${property.propertyType.name().equals('APARTMENT')
                                                        or property.propertyType.name().equals('BUSINESS')}">
                            <div class="w-30 white-space-nowrap" th:text="#{property.floor} + ':'">Етаж:</div>
                            <div class="w-70"
                                 th:text="${property.floor} + ' ' + #{property.floor-from} + ' ' + ${property.buildingFloors}">2 от 5
                            </div>
                        </div>

                        <!-- Has elevator -->
                        <div class="flex-row" th:if="${property.propertyType.name().equals('APARTMENT')
                                                        or property.propertyType.name().equals('BUSINESS')}">
                            <div class="w-30 white-space-nowrap" th:text="#{property.has-elevator} + ':'">Асансьор:
                            </div>
                            <div class="w-70" th:if="${property.hasElevator}"
                                 th:text="#{property.has-elevator-true}">да
                            </div>
                            <div class="w-70" th:if="${!property.hasElevator}"
                                 th:text="#{property.has-elevator-false}">не
                            </div>
                        </div>

                        <!-- Facing -->
                        <div class="flex-row" th:if="${property.propertyType.name().equals('APARTMENT')
                                                        or property.propertyType.name().equals('HOUSE')}">
                            <div class="w-30 white-space-nowrap" th:text="#{property.facing} + ':'">Изложение:</div>
                            <div class="w-70"
                                 th:text="${property.facing}">запад
                            </div>
                        </div>

                        <!-- Yard area-->
                        <div class="flex-row" th:if="${property.propertyType.name().equals('HOUSE')}">
                            <div class="w-30 white-space-nowrap" th:text="#{property.yard-area} + ':'">Площ двор:</div>
                            <div class="w-70"
                                 th:text="${property.yardArea} + ' ' + #{'areaUnit.' + ${property.yardAreaUnit}}">200
                                кв.м</div>
                        </div>

                        <!-- Floors count-->
                        <div class="flex-row" th:if="${property.propertyType.name().equals('HOUSE')}">
                            <div class="w-30 white-space-nowrap" th:text="#{property.floors-count} + ':'">Брой
                                етажи:</div>
                            <div class="w-70"
                                 th:text="${property.floorsCount}">3</div>
                        </div>

                        <!-- Additional structures -->
                        <div class="flex-row" th:if="${property.propertyType.name().equals('HOUSE')}">
                            <div class="w-30 white-space-nowrap" th:text="#{property.additional-structures} + ':'">
                                Допълнителни постройки:</div>
                            <div class="w-70"
                                 th:text="${property.additionalStructures}">3</div>
                        </div>
                    </div>

                    <div class="created-on-updated-on-section flex-column gap-0-5">
                        <div class="flex-row">
                            <div class="w-30">Създаден&nbsp;на:</div>
                            <div class="w-70">05.05.2025 г.</div>
                        </div>
                        <div class="flex-row">
                            <div class="w-30">Последна актуализация:</div>
                            <div class="w-70">10.05.2025 г.</div>
                        </div>
                    </div>

                </div>
                <div class="buttons-section flex-row">
                    <div class="w-50 text-center">
                        <button class="btn btn-green" th:text="#{property.button-change}">Промени</button>
                    </div>
                    <div class="w-50 text-center">
                        <button class="btn btn-red" th:text="#{property.button-delete}">Изтрий</button>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer th:replace="~{fragments/footer.html::footer}"></footer>
</body>
</html>